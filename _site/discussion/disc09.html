<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>Discussion 08</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Tammy's 61A resources.">
<link href="/cs61a-resources/css/bootstrap.min.css" rel="stylesheet">
<link href="/cs61a-resources/css/hc.css" rel="stylesheet">
<link href="/cs61a-resources/css/slidin.css" rel="stylesheet">
<link href="/cs61a-resources/css/pygments/tango.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif] d-->

  </head>
  <body>
    <div class="nav-toggle"><i class="fa fa-bars fa-2x"></i> Herring Cove </div>
    <div id = "wrapper">
      <div class="navbar navbar-default" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <p class="navbar-brand">CS 61A Resources</p>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="cat3-toggle"><h5 class="toggle">Discussion Material</h5></li>
        <div class="cat3">
          
            <li> 
              <a href="/cs61a-resources/discussion/disc09.html"> Discussion 08 </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/discussion/disc08.html"> Discussion 08 </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/discussion/disc08.html"> Discussion 7 </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/discussion/disc06.html"> Discussion 6 </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/discussion/disc05.html"> Discussion 5 </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/discussion/disc04.html"> Discussion 4 </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/discussion/disc03.html"> Discussion 3 </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/discussion/disc02.html"> Discussion 2 </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/discussion/disc01.html"> Discussion 1 </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/discussion/disc00.html"> Discussion 0 </a>
            </li>
          
        </div>

        <li class="cat1-toggle"><h5 class="toggle">Guides</h5></li>
        <div class="cat1">
          
            <li> 
              <a href="/guides/mutability.html"> Mutability and Nonlocal </a>
            </li>
          
            <li> 
              <a href="/guides/tail-recursion.html"> Tail Recursion </a>
            </li>
          
            <li> 
              <a href="/guides/scheme.html"> Scheme </a>
            </li>
          
            <li> 
              <a href="/guides/recursion.html"> Recursion </a>
            </li>
          
            <li> 
              <a href="/guides/oop.html"> Object Oriented Programming </a>
            </li>
          
            <li> 
              <a href="/guides/env-diag.html"> Environment Diagrams </a>
            </li>
          
        </div>

        <li class="cat2-toggle"><h5 class="toggle">Practice Problems</h5></li>
        <div class="cat2">
          
            <li> 
              <a href="/practice-problems/scheme.html"> Scheme </a>
            </li>
          
            <li> 
              <a href="/practice-problems/mt2.html"> Midterm 2 </a>
            </li>
          
            <li> 
              <a href="/practice-problems/mt1.html"> Midterm 1 </a>
            </li>
          
            <li> 
              <a href="/practice-problems/iter.html"> Iterables </a>
            </li>
          
            <li> 
              <a href="/practice-problems/final.html"> Final </a>
            </li>
          
        </div>

        <li class="cat4-toggle"><h5 class="toggle">Other</h5></li>
        <div class="cat4">
          
            <li> 
              <a href="/cs61a-resources/other/trees.html"> Summer 2016 Trees Guest Lecture </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/other/sp16-mt1.html"> Spring 2016 MT1 Walkthrough </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/other/mt1-review.html"> Midterm 1 Review Slides </a>
            </li>
          
            <li> 
              <a href="/cs61a-resources/other/exams.html"> Course Advice </a>
            </li>
          
        </div>
        <li><a href="/cs61a-resources/about.html"><h5 class="toggle">About</h5></a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</div>

<!-- Sidebar -->
<div id="sidebar-wrapper">
  <ul class="sidebar-nav">
    <li class="sidebar-brand"><a href="/cs61a-resources/"><h1 class="brand">CS 61A</h1></a></li>
    <!-- todo: find a better way to hide on posts -->
    
    <hr />
        <li class="cat3-toggle"><h4 class="toggle">Discussion Material</h4></li>
    <div class="cat3">
      
        <li> 
          <a href="/cs61a-resources/discussion/disc09.html"> Discussion 08 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/discussion/disc08.html"> Discussion 08 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/discussion/disc08.html"> Discussion 7 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/discussion/disc06.html"> Discussion 6 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/discussion/disc05.html"> Discussion 5 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/discussion/disc04.html"> Discussion 4 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/discussion/disc03.html"> Discussion 3 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/discussion/disc02.html"> Discussion 2 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/discussion/disc01.html"> Discussion 1 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/discussion/disc00.html"> Discussion 0 </a>
        </li>
      
    </div>
    <li class="cat1-toggle"><h4 class="toggle">Guides</h4></li>
    <div class="cat1">
      
        <li> 
          <a href="/cs61a-resources/guides/mutability.html"> Mutability and Nonlocal </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/guides/tail-recursion.html"> Tail Recursion </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/guides/scheme.html"> Scheme </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/guides/recursion.html"> Recursion </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/guides/oop.html"> Object Oriented Programming </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/guides/env-diag.html"> Environment Diagrams </a>
        </li>
      
    </div>
    <li class="cat2-toggle"><h4 class="toggle">Practice Problems</h4></li>
    <div class="cat2">
      
        <li> 
          <a href="/cs61a-resources/practice-problems/scheme.html"> Scheme </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/practice-problems/mt2.html"> Midterm 2 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/practice-problems/mt1.html"> Midterm 1 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/practice-problems/iter.html"> Iterables </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/practice-problems/final.html"> Final </a>
        </li>
      
    </div>

    <li class="cat4-toggle"><h4 class="toggle">Other</h4></li>
    <div class="cat4">
      
        <li> 
          <a href="/cs61a-resources/other/trees.html"> Summer 2016 Trees Guest Lecture </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/other/sp16-mt1.html"> Spring 2016 MT1 Walkthrough </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/other/mt1-review.html"> Midterm 1 Review Slides </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/other/exams.html"> Course Advice </a>
        </li>
      
    </div>
    <li><a href="/cs61a-resources/about.html"><h4>About</h4></a></li>
    <hr />
  </ul>
</div>

      <div class="container">
        <div id="article">
  <div class="article-title">Discussion 08</div>
  <hr/>
  <div class="post">
    <h1 id="links">Links</h1>

<p><a href="https://docs.google.com/presentation/d/1EvIBXCCXNqHtvYxb-75pgG3ruqsq694IPUT-DyxHaHo/edit?usp=sharing">Slides</a><br />
<a href="https://docs.google.com/forms/d/e/1FAIpQLSeYmt2n87zBIj8xHmBEEvmilIbRwLwTUOEV0oEJnsal7JAaNQ/viewform">Attendance and Feedback</a><br />
<a href="http://cs61a.org/assets/interpreter/scheme">Scheme Interpreter</a></p>

<hr />

<h1 id="concepts">Concepts</h1>
<ol>
  <li>When are <code>eval</code> and <code>apply</code> mutually recursive?</li>
  <li>Why do special forms have to be handled separately from regular call expressions?</li>
  <li>What makes tail recursion more desirable than regular recursion in Scheme, but not in Python?</li>
</ol>

<hr />

<h1 id="problems">Problems</h1>

<h2 id="question-1">Question 1</h2>
<p>Consider todayâ€™s <code>Calculator</code> interpreter. How many calls to <code>calc_eval</code> and <code>calc_apply</code> are there for the following two pieces of code?</p>

<figure class="highlight"><pre><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nb">- </span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="nb">* </span><span class="mi">2</span> <span class="p">(</span><span class="nb">+ </span><span class="mi">1</span> <span class="mi">2</span><span class="p">))</span> <span class="mi">4</span><span class="p">)</span></code></pre></figure>

<p><a class="btn btn-default solution-toggle">TOGGLE SOLUTION</a></p>
<blockquote class="solution">
Each time we get to a function call, we count 1 eval for the entire expression, 1 eval for its operator, and 1 eval for each of its operands. For example, <code>(- 1 2 3)</code> takes (1 call for the entire expression) + (1 call for the operand -) + (3 calls for the operands) = 5 calls to eval. After evaluating the last operand, in this case the primitive expression 3, we do one apply. Since these arithmetic functions are primitive, there are no eval calls made in the process of applying. If we recursively apply this technique, we end up with 15 calls to eval and 4 calls to apply.
</blockquote>

<figure class="highlight"><pre><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define </span><span class="nv">foo</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">+ </span><span class="mi">7</span> <span class="p">(</span><span class="nb">* </span><span class="nv">x</span> <span class="mi">2</span><span class="p">))))</span>
<span class="p">(</span><span class="nb">- </span><span class="mi">4</span> <span class="p">(</span><span class="nb">+ </span><span class="mi">2</span> <span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="nf">foo</span> <span class="p">(</span><span class="nb">* </span><span class="mi">3</span> <span class="mi">2</span><span class="p">)))</span></code></pre></figure>

<p><a class="btn btn-default solution-toggle-2">TOGGLE SOLUTION</a></p>
<blockquote class="solution-2">
First, we define the function foo. We <code>calc_eval</code> the line, and fine that define is a special form. The define special form requires just evaluating the 2nd operand. Evaluating a lambda expression doesn't involve any calls to eval or apply. Thus, the first line takes two calls to <code>calc_eval</code>, one for the define expression and another to evaluate the lambda expression. Then, we follow the same technique as above, except this time we encounter a user-defined function foo. In this case, in order to apply foo, we have to make calls to eval. Specifically, applying foo means evaluating the expression (+ 7 (* x 2)), which itself takes 7 calls to eval and 2 to apply. This makes for a total of 22 calls to eval and 6 calls to apply.
</blockquote>

  </div>
</div>

      <div class="container">
  <footer>
    <p class="text-muted credit">
      &copy; 2016 <a href="http://tmmydngyn.com/">Tammy Nguyen</a> &middot;
      <a href="https://github.com/arnp/herring-cove"> Herring Cove for Jekyll </a>
    </p>
  </footer>
</div>

      </div>
    </div>
    <!-- Bootstrap core JavaScript-->
<script src="/cs61a-resources/js/jquery-1.10.2.min.js"></script>
<script src="/cs61a-resources/js/bootstrap.min.js"></script>
<script src="/cs61a-resources/js/hc.js"></script>
<script src="/cs61a-resources/js/slidin.js"></script>

  </body>
</html>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-70344118-2', 'auto');
  ga('send', 'pageview');

</script>