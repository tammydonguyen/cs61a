<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>Iterables</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="This is a work in progress collection of resources for students to review or better understand 61A material.">
<link href="/cs61a-resources/css/bootstrap.min.css" rel="stylesheet">
<link href="/cs61a-resources/css/hc.css" rel="stylesheet">
<link href="/cs61a-resources/css/slidin.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif] d-->

  </head>
  <body>
    <div class="nav-toggle"><i class="fa fa-bars fa-2x"></i> Herring Cove </div>
    <div id = "wrapper">
      <div class="navbar navbar-default" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <p class="navbar-brand">CS 61A Resources</p>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
      <li class="cat1-toggle"><h5>Guides</h5></li>
    <div class="cat1">
      
        <li> 
          <a href="/guides/tail-recursion.html"> Tail Recursion </a>
        </li>
      
        <li> 
          <a href="/guides/scheme.html"> Scheme </a>
        </li>
      
        <li> 
          <a href="/guides/recursion.html"> Recursion </a>
        </li>
      
        <li> 
          <a href="/guides/oop.html"> Object Oriented Programming </a>
        </li>
      
        <li> 
          <a href="/guides/env-diag.html"> Environment Diagrams </a>
        </li>
      
    </div>
    <li class="cat2-toggle"><h5>Practice Problems</h5></li>
    <div class="cat2">
      
        <li> 
          <a href="/practice-problems/scheme.html"> Scheme </a>
        </li>
      
        <li> 
          <a href="/practice-problems/mt2.html"> Midterm 2 </a>
        </li>
      
        <li> 
          <a href="/practice-problems/mt1.html"> Midterm 1 </a>
        </li>
      
        <li> 
          <a href="/practice-problems/iter.html"> Iterables </a>
        </li>
      
        <li> 
          <a href="/practice-problems/final.html"> Final </a>
        </li>
      
    </div>
    <li class="cat3-toggle"><h5>Other</h5></li>
    <div class="cat3">
      
        <li> 
          <a href="/other/mt1-review.html"> Midterm 1 Review Slides </a>
        </li>
      
        <li> 
          <a href="/other/exams.html"> Taking Exams </a>
        </li>
      
    </div>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</div>

<!-- Sidebar -->
<div id="sidebar-wrapper">
  <ul class="sidebar-nav">
    <li class="sidebar-brand"><a href="/cs61a-resources/"><h1 class="brand">Resources</h1></a></li>
    <!-- todo: find a better way to hide on posts -->
    
    <hr />
    <li class="cat1-toggle"><h4>Guides</h4></li>
    <div class="cat1">
      
        <li> 
          <a href="/cs61a-resources/guides/tail-recursion.html"> Tail Recursion </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/guides/scheme.html"> Scheme </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/guides/recursion.html"> Recursion </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/guides/oop.html"> Object Oriented Programming </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/guides/env-diag.html"> Environment Diagrams </a>
        </li>
      
    </div>
    <li class="cat2-toggle"><h4>Practice Problems</h4></li>
    <div class="cat2">
      
        <li> 
          <a href="/cs61a-resources/practice-problems/scheme.html"> Scheme </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/practice-problems/mt2.html"> Midterm 2 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/practice-problems/mt1.html"> Midterm 1 </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/practice-problems/iter.html"> Iterables </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/practice-problems/final.html"> Final </a>
        </li>
      
    </div>
    <li class="cat3-toggle"><h4>Other</h4></li>
    <div class="cat3">
      
        <li> 
          <a href="/cs61a-resources/other/mt1-review.html"> Midterm 1 Review Slides </a>
        </li>
      
        <li> 
          <a href="/cs61a-resources/other/exams.html"> Taking Exams </a>
        </li>
      
    </div>
    <hr />
  </ul>
</div>

      <div class="container">
        <div id="article">
  <div class="article-title">Iterables</div>
  <hr/>
  <div class="post">
    <h2>Concepts</h2>

<ol style="width: 75%">
<li> What method(s) must **iterables** have?   </li>
<blockquote class="solution-4">`__iter__`</blockquote>
<li>What method(s) must **iterators** have?  </li>
<blockquote class="solution-4">`__iter__` AND `__next__`</blockquote>
<li>What data type does `__iter__` return? </li>
<blockquote class="solution-4">iterator</blockquote>
<li>What data type does `__next__` return?</li>
<blockquote class="solution-4">whatever type each element of the sequence is</blockquote>
<li>Is a **generator** an iterable or an iterator?  </li>
<blockquote class="solution-4">iterator</blockquote>
<li>What keyword in the body of a function makes that function return a generator object?  </li>
<blockquote class="solution-4">`yield`</blockquote>
<li>How is `yield` different from `return`?    </li>
<blockquote class="solution-4">`yield` does not close the frame. `yield` outputs a value, and keeps the frame open until `StopIteration` is raised.</blockquote>
<li>When you call `next` on a generator, the body starts executing at what line? At what line will it stop? At what line will it start the next time you call `next`?  </li>
<blockquote class="solution-4">execution starts at the first line of the body and stops after the line with `yield` is executed. when `next` is called again, execution picks up at the line right after the `yield` statement (where it last left off) and stops after another `yield` execution *or* if there are no more lines in the body.</blockquote>
<li>What happens when you call `list` on an iterable or an iterator? What happens if you call it a second time on the same objects?  </li>
<blockquote class="solution-4">when you call `list` on an iterable or an iterator, Python calls `iter` on it and then attempts to construct a list with the `next` element until `StopIteration` is reached, then returns the constructed list.</blockquote>
<li>Can you iterate through an iterable in a for loop? Can you iterate through an iterator in a for loop?  </li>
<blockquote class="solution-4">you can use both iterables and iterators in a for loop.</blockquote> 
</ol>

<p><a class="solution-toggle-4 btn btn-default">TOGGLE SOLUTION</a></p>

<p><a class="anchor" name="wwpp"></a>  </p>

<h2>What would Python print?</h2>

<p>The following classes define an iterable representing the sequence of multiples for any given number and the iterator that returns the next value in the sequence. The sequence goes up to 1000.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">class Multiples:
    def __init__(self, num):
        self.num = num

    def __iter__(self):
        return MultiplesIterator(self.num)

class MultiplesIterator:
    def __init__(self, num):
        self.num = num
        self.curr = num

    def __iter__(self):
        return self

    def __next__(self):
        if self.curr &gt;= 1000:
            raise StopIteration
        val = self.curr
        self.curr = self.curr + self.num
        return val
</code></pre></div>
<p>What will the following lines output?</p>

<pre><code>>>> hundreds = Multiples(100)<br>>>> next(hundreds)
<span class="solution-3">TypeError: 'Multiples' object is not an iterator</span>
>>> next(iter(hundreds))
<span class="solution-3">100</span>
>>> next(iter(hundreds))
<span class="solution-3">100</span>
>>> i = iter(hundreds)
>>> i is iter(hundreds)
<span class="solution-3">False</span>
>>> i is iter(i)
<span class="solution-3">True</span>
>>> next(i)
<span class="solution-3">100</span>
>>> next(i)
<span class="solution-3">200</span>
>>> list(hundreds)
<span class="solution-3">[100, 200, 300, 400, 500, 600, 700, 800, 900]</span>
>>> list(i)
<span class="solution-3">[300, 400, 500, 600, 700, 800, 900]</span>
>>> list(hundreds)
<span class="solution-3">[100, 200, 300, 400, 500, 600, 700, 800, 900]</span>
>>> list(i)
<span class="solution-3">[]</span>
>>> for i in hundreds:
...     print(i)
<span class="solution-3">5<br>25<br>125<br>625</span>
>>> for x in i:
...     print(x)</code></pre>

<p class="solution-6">**Explanation**: `Multiples`'s `__iter__` method always returns a *new instance* of `MultiplesIterator`, whereas `MultiplesIterator`'s `__iter__` simply returns itself. For iterables, calling `iter` will reset the iterator, but since iterators just return themselves, they do not reset.</p>

<p><a class="solution-toggle-3 btn btn-default">TOGGLE SOLUTION</a> &nbsp;
<a class="solution-toggle-6 btn btn-default">TOGGLE EXPLANATION</a></p>

<p><a class="anchor" name="code"></a>  </p>

<h2>Writing code</h2>

<p>Fill in the following definition of a generator function which yields every number from <code>1</code> to <code>n</code> and prints <code>&#39;m was a factor&#39;</code> if the previous number, <code>m</code>, was a factor of <code>n</code>. See the doctests for an example.</p>

<pre><code>def print_factor(n):
    """
    >>> gen = print_factor(8)
    >>> next(gen)
    1
    >>> next(gen)
    1 was a factor
    2
    >>> next(gen)
    2 was a factor
    3
    >>> next(gen)
    4
    >>> next(gen)
    4 was a factor
    5
    """
    <span class="solution-2-prompt">"*** YOUR CODE HERE ***"</span>
    <span class="solution-2-p">curr = 1
while curr <= n:
    yield curr
    if n % curr == 0:
        print(str(curr) + " was a factor")
    curr += 1</span></code></pre>

<p><a class="solution-toggle-2-p btn btn-default">TOGGLE SOLUTION</a></p>

  </div>
</div>
<div id="disqus_thread">

  <script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'tmmydngyn'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>
    Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>

  <a href="http://disqus.com" class="dsq-brlink">
    comments powered by <span class="logo-disqus">Disqus</span>
  </a>

</div>


      <div class="container">
  <footer>
    <p class="text-muted credit">
      &copy; 2015 <a href="http://tmmydngyn.com/">Tammy Nguyen</a> &middot;
      <a href="https://github.com/arnp/herring-cove"> Herring Cove for Jekyll </a>
    </p>
  </footer>
</div>

      </div>
    </div>
    <!-- Bootstrap core JavaScript-->
<script src="/cs61a-resources/js/jquery-1.10.2.min.js"></script>
<script src="/cs61a-resources/js/bootstrap.min.js"></script>
<script src="/cs61a-resources/js/hc.js"></script>
<script src="/cs61a-resources/js/slidin.js"></script>

  </body>
</html>
