<p><a href="https://docs.google.com/a/berkeley.edu/presentation/d/1ulpQih6seuyInFaARsR1yRk-nNR5_wixutbBqlIWME0/edit?usp=sharing">This week’s slides</a><br />
<a href="https://docs.google.com/a/berkeley.edu/forms/d/1DUWSl6QW4KqJfPCWmNq-SAto6E6EQc7Bdq03jJEJ8B0/viewform">Link to form</a></p>

<hr />

<h3 id="concepts">Concepts</h3>
<ol>
  <li>An <strong>__</strong><strong>_ keeps track of the current element in an __</strong><strong>__</strong>_.</li>
  <li>What are the properties of <code class="highlighter-rouge">yield</code>? What is it used for?</li>
  <li>When constructing a Scheme stream with <code class="highlighter-rouge">(cons-stream &lt;first&gt; &lt;rest&gt;)</code>, what is <code class="highlighter-rouge">&lt;rest&gt;</code>?</li>
  <li>When constructing a Python stream with <code class="highlighter-rouge">Stream(&lt;first&gt;, &lt;rest&gt;)</code>, what is <code class="highlighter-rouge">&lt;rest&gt;</code>?</li>
  <li>You make a stream and you call <code class="highlighter-rouge">cdr-stream</code> on it (or, in Python, you access its <code class="highlighter-rouge">.rest</code>). What happens when you call <code class="highlighter-rouge">cdr-stream</code> again?</li>
</ol>

<h3 id="problems">Problems</h3>

<h4 id="question-1-wwsp">Question 1: WWSP?</h4>

<figure class="highlight"><pre><code class="language-scheme" data-lang="scheme"><span class="nv">scm&gt;</span> <span class="p">(</span><span class="k">define</span> <span class="nv">a</span> <span class="p">(</span><span class="nf">cons-stream</span> <span class="p">(</span><span class="nb">+</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">()</span> <span class="p">(</span><span class="nf">cons-stream</span> <span class="mi">6</span> <span class="nv">nil</span><span class="p">))))</span>
<span class="nv">s</span>
<span class="nv">scm&gt;</span> <span class="p">(</span><span class="k">define</span> <span class="nv">b</span> <span class="p">(</span><span class="nf">cons-stream</span> <span class="p">(</span><span class="nb">+</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="nf">cons-stream</span> <span class="mi">6</span> <span class="nv">nil</span><span class="p">)))</span>
<span class="nv">scm&gt;</span> <span class="nv">a</span>

<span class="nv">scm&gt;</span> <span class="nv">b</span>

<span class="nv">scm&gt;</span> <span class="p">(</span><span class="nf">cdr-stream</span> <span class="nv">a</span><span class="p">)</span>

<span class="nv">scm&gt;</span> <span class="p">(</span><span class="nf">cdr-stream</span> <span class="nv">b</span><span class="p">)</span>

<span class="nv">scm&gt;</span> <span class="p">((</span><span class="nf">cdr-stream</span> <span class="nv">a</span><span class="p">))</span></code></pre></figure>

<p>Between <code class="highlighter-rouge">a</code> and <code class="highlighter-rouge">b</code>, which is a well-formed stream? Why?</p>

<h4 id="question-2-filter-list-to-stream">Question 2: Filter List to Stream</h4>
<p>Given a list <code class="highlighter-rouge">lst</code>, turn it into a stream that contains only the elements in <code class="highlighter-rouge">lst</code> that satisfy the filter function <code class="highlighter-rouge">f</code>.</p>

<figure class="highlight"><pre><code class="language-scheme" data-lang="scheme"><span class="nv">scm&gt;</span> <span class="p">(</span><span class="k">define</span> <span class="nv">evens</span> <span class="p">(</span><span class="nf">lst-to-stream-filter</span> <span class="o">'</span><span class="p">(</span><span class="nf">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span><span class="p">)</span> <span class="nv">even?</span><span class="p">))</span>
<span class="nv">evens</span>
<span class="nv">scm&gt;</span> <span class="p">(</span><span class="nb">car</span> <span class="nv">evens</span><span class="p">)</span>
<span class="mi">2</span>
<span class="nv">scm&gt;</span> <span class="p">(</span><span class="nf">cdr-stream</span> <span class="nv">evens</span><span class="p">)</span>
<span class="p">(</span><span class="nf">4</span> <span class="o">.</span> <span class="o">#</span><span class="err">[</span><span class="nv">promised</span><span class="p">(</span><span class="nb">not</span> <span class="nv">forced</span><span class="p">)</span><span class="err">]</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="nf">lst-to-stream-filter</span> <span class="nv">lst</span> <span class="nv">f</span><span class="p">)</span>
    <span class="ss">'YOUR-CODE-HERE</span>
<span class="p">)</span></code></pre></figure>

<h4 id="question-3-repeated-naturals">Question 3: Repeated Naturals</h4>
<p>Implement the 0 argument procedure <code class="highlighter-rouge">repeated-naturals</code> that returns an infinite stream similar to natural numbers, except that each element is repeated as many times as its value. In other words, create the stream version of this sequence: <code class="highlighter-rouge">(1 2 2 3 3 3 4 4 4 4 ...)</code></p>

<p>You might want to create a helper function that takes in two parameters, one that keeps track of the current number you’re on, and another that keeps track of how many times you’ve added the current number.</p>

<figure class="highlight"><pre><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="nf">repeated-naturals</span><span class="p">)</span>
    <span class="ss">'YOUR-CODE-HERE</span>
<span class="p">)</span></code></pre></figure>

<p>Feel free to use the following function that turns the first n elements of a stream into a list to debug:</p>

<figure class="highlight"><pre><code class="language-scheme" data-lang="scheme"><span class="p">(</span><span class="k">define</span> <span class="p">(</span><span class="nf">stream-to-list</span> <span class="nv">s</span> <span class="nv">n</span><span class="p">)</span>
    <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="k">or</span> <span class="p">(</span><span class="nb">null?</span> <span class="nv">s</span><span class="p">)</span> <span class="p">(</span><span class="nb">=</span> <span class="nv">n</span> <span class="mi">0</span><span class="p">))</span> <span class="nv">nil</span>
        <span class="p">(</span><span class="nb">cons</span> <span class="p">(</span><span class="nb">car</span> <span class="nv">s</span><span class="p">)</span> <span class="p">(</span><span class="nf">stream-to-list</span> <span class="p">(</span><span class="nf">cdr-stream</span> <span class="nv">s</span><span class="p">)</span> <span class="p">(</span><span class="nb">-</span> <span class="nv">n</span> <span class="mi">1</span><span class="p">)))</span>
<span class="p">))</span></code></pre></figure>
